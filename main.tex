\documentclass{amsart}

\usepackage{amsmath, amssymb}
\usepackage{commath}

\theoremstyle{definition}
\newtheorem{ans}{}
\numberwithin{ans}{subsection}

\newcommand{\fakesection}[1]{%
  \par\refstepcounter{section}% Increase section counter
  \sectionmark{#1}% Add section mark (header)
  \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}% Add section to ToC
  % Add more content here, if needed.
}
\newcommand{\fakesubsection}[1]{%
  \par\refstepcounter{subsection}% Increase subsection counter
  \subsectionmark{#1}% Add subsection mark (header)
  \addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}#1}% Add subsection to ToC
  % Add more content here, if needed.
}

\DeclareMathOperator{\id}{id}


\begin{document}

\fakesection{第1章 集合論}
\fakesubsection{1.1 集合と論理の復習}

\begin{ans}
  $f: g,\ A: X,\ B: X$
\end{ans}

\begin{ans}
  (1) $f(S) = \{3, 4\}$
  (2) $f^{-1}(S_1) = \emptyset,\ f^{-1}(S_2) = \{1, 3, 4, 5\}$
  (3) $f(a) = 2 (\in B)$であるような$a \in A$が存在しないので, 全射ではない.
  (4) $f(1) = f(4)$なので, 単射ではない.
\end{ans}

\begin{ans}
  写像$f: A \rightarrow B$について考える.
  全射: $B$のすべての要素が集合$A$から来ている.\\
  単射: $A$の異なる要素は$B$の異なる要素に行く.
\end{ans}

\begin{ans}
  全射: $f(x) = x,\ x\sin x,\ x^3 - x$
  単射: $f(x) = x,\ e^x,\ \arctan x$
\end{ans}

\begin{ans}
  (逆写像$\Rightarrow$全単射) $f \circ g = \id_B$が全射なので, 次問より, $f$は全射.
  同様に$g \circ f = \id_A$が単射なので, $f$は単射.\\
  (全単射$\Rightarrow$逆写像)
  $b \in B$を任意に取ると, $f$の全射性から$f(a) = b$なる$a \in A$がある.
  しかも$f$の単射性により, このような$a$は一意である.
  そこで$g: B \rightarrow A$を$g(b) = a$と定めれば,
  $f \circ g(b) = f(a) = b$, $g \circ f(a) = g(b) = a$
  が成り立つので, $f \circ g = \id_B$, $g \circ f = \id_A$.
\end{ans}

\begin{ans}
  (1) $c \in C$を任意に取る.
  $g$の全射性から$g(b) = c$となる$b \in B$があり,
  さらに$f$の全射性から$f(a) = b$となる$a \in A$がある.
  すなわち$g \circ f(a) = c$となる$a \in A$がある.
  (2) $g \circ f(a) = g \circ f(a^\prime)$であるとする.
  このとき$g$の単射性から$f(a) = f(a^\prime)$,
  さらに$f$の単射性から$a = a^\prime$.
  (3) $g \circ f$が全射なので, 任意の$c \in C$に対して
  $g \circ f(a) = c$となる$a \in A$がある.
  すなわち$g(f(a)) = c$となる$f(a) \in B$がある.
  (4) $f(a) = f(a^\prime)$であるとする.
  このとき$g \circ f(a) = g \circ f(a^\prime)$であり,
  $g \circ f$の単射性より$a = a^\prime$.
\end{ans}

\begin{ans}
  (全射$\Rightarrow \forall S\ f(f^{-1}(S)) = S$).
  まず$f(f^{-1}(S)) \subset S$を示す.
  $b \in f(f^{-1}(S))$ならば,
  $f(a) = b,\ a \in f^{-1}(S)$となる$a$が存在する.
  逆像の定義から$f(a) \in S$なので, $b \in S$.
  (注意: ここでは$f$の全射性は用いなかった.)
  次に$f(f^{-1}(S)) \supset S$を示す.
  $b \in S$であるとすると, $f$の全射性から$f(a) = b$となる$a \in A$がある.
  $a \in f^{-1}(S)$なので, $b \in f(f^{-1}(S))$.
  \\
  ($\forall S\ f(f^{-1}(S)) = S \Rightarrow$全射).
  任意の$b \in B$に対して$\{b\} \subset f(f^{-1}(\{b\})) \subset f(A)$.
\end{ans}

\begin{ans}
  前問で示したように, $f(f^{-1}(S)) \subset S$なので,
  $f^{-1}(f(f^{-1}(S))) \subset f^{-1}(S)$.
  逆に$f^{-1}(f(f^{-1}(S))) \supset f^{-1}(S)$は次のようにして示される.
  $a \in f^{-1}(S)$ならば, $f(a) = b,\ b \in S$となる$b$が存在する.
  ふたたび$a \in f^{-1}(S)$より, $b \in f(f^{-1}(S))$.
  さらに$f(a) = b$より, $a \in f^{-1}(f(f^{-1}(S)))$.
\end{ans}

\begin{ans}
  (1) $x = 4.1$
  (2) $A = \mathbb{N},\ B = \emptyset$
  (3) $f: \{0, 1, 2\} \rightarrow \{0, 1\}$を
  $f(0) = f(2) = 0,\ f(1) = 1$と定めて,
  $S_0 = \{0, 1\},\ S_1 = \{1, 2\}$
  とすると, $f(S_0 \cap S_1) = f(\{1\}) = \{1\}$,
  $f(S_0) \cap f(S_1) = \{0, 1\} \cap \{0, 1\} = \{0, 1\}$.
\end{ans}

\begin{ans}
  (1) (d).
  $x = 4$が$A \Rightarrow B$の反例,
  $x = 1$が$B \Rightarrow A$の反例である.
  (2) (a).
  $B \Rightarrow A$は真だが,
  $x = 4$が$A \Rightarrow B$の反例である.
  (3) (b). $A \Rightarrow B$は真だが,
  $X = \mathbb{N},\ Y = \emptyset$が$B \Rightarrow A$の反例である
\end{ans}

\begin{ans}
  (1) $A$が成り立たないか$B$が成り立たない, かつ$C$が成り立たない
  (2) $A$が成り立ち, かつ$B$も$C$も成り立たない
  (3) $A$か$B$の一方のみが成り立つ
  (4) 自然数$n$があって, 任意の実数$x$に対して$x \le 0$または$\frac{1}{n} \le x$が成り立つ
  (5) ある$\varepsilon > 0$について, 任意の$\delta > 0$に対して$x, y \in [0, 1]$で
  $\abs{x - y} < \delta$かつ$\abs{f(x) - f(y)} \ge \varepsilon$
  を満たすものがある.
\end{ans}

\fakesubsection{1.2 well-definedと自然な対象}

\fakesubsection{1.3 選択公理とツォルンの補題}

\end{document}
